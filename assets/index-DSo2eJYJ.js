import{g as X,r as f,R as j,X as z,a4 as G,o as s,h as x,x as t,y as a,k as o,a5 as H,a6 as K,a7 as d,a8 as W,t as u,D as h,a9 as D,s as Y,J as N,v as Z,ac as ee,aa as te,ad as oe,ae as M,a1 as ae,N as le,Q as ne}from"./index-CpodFpUQ.js";import{v as ie}from"./el-loading-BOfnPg9C.js";import{E as se,a as re}from"./el-table-column-CD1Eg5LV.js";import"./el-checkbox-gOJjs20a.js";import{E as de}from"./el-link-1sriVKj4.js";import{E as me}from"./el-switch-CHw-uFi2.js";import{E as ue}from"./el-card-q23y_vI7.js";import{a as ce,E as pe}from"./el-form-item-CvcOi-Xh.js";import{E as _e,a as fe}from"./el-select-B4_7IAkN.js";import he from"./menuForm-a0qeKv4r.js";import{g as ve,d as we,u as ge,a as ye}from"./menu-BR7_zR8D.js";import{p as be}from"./index-DgcNhbwt.js";import{u as Ve}from"./dict-BF9NBz1l.js";import"./debounce-DB3PlMcl.js";import"./_baseClone-Bd2QEoHD.js";import"./isEqual-DA5FAILj.js";import"./token-DI9FKtlJ.js";import"./strings-tw-UTuVM.js";import"./el-dialog-BdRR_6YM.js";import"./el-row-D5xM9lwf.js";import"./el-col-57__bE4T.js";import"./el-input-number--l3XrVoV.js";import"./index-D5u5-p8S.js";import"./svgSelect-CiMQhQkO.js";import"./el-tab-pane-DYaV8fPe.js";import"./el-radio-BM65Nv2y.js";import"./data-dQwJxLXj.js";const Ce={class:"iconClass"},ke=X({__name:"index",setup(Fe){const{sys_show_hide:B}=Ve("sys_show_hide"),b=f(),w=f(!1),c=f({}),p=()=>{k()},I=()=>{b.value.resetFields(),p()},V=f([]),l=f({dialogVisible:!1,title:"",menuForm:{},id:null}),C=()=>{l.value.dialogVisible=!0,l.value.title="新增"},T=()=>{l.value.dialogVisible=!1,l.value.menuForm={},l.value.id=null,p()},L=i=>{ve(i).then(n=>{l.value.menuForm=n.data,l.value.title="编辑",l.value.dialogVisible=!0})},S=i=>{oe("是否确认删除？").then(()=>{we(i).then(n=>{n.status==200&&(M(n.data),p())})})},U=async(i,n)=>{ge({id:i,status:n}).then(m=>{m.status==200&&M(m.message),p()}).catch(m=>{p()})},$=i=>{l.value.id=i,C()},k=()=>{w.value=!0,ye(c.value).then(i=>{V.value=i.data,w.value=!1})};return j(()=>{k()}),(i,n)=>{const F=ae,m=ce,P=_e,R=fe,g=le,A=pe,E=ue,r=se,Q=z("tl-icon"),q=me,y=de,J=re,v=G("hasPermi"),O=ie;return s(),x("div",null,[t(E,null,{default:a(()=>[t(A,{model:o(c),ref_key:"seachFormRef",ref:b,"label-width":"auto",inline:!0},{default:a(()=>[t(m,{label:"菜单名称",prop:"menuName"},{default:a(()=>[t(F,{modelValue:o(c).menuName,"onUpdate:modelValue":n[0]||(n[0]=e=>o(c).menuName=e),placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1}),t(m,{label:"状态",prop:"status"},{default:a(()=>[t(R,{modelValue:o(c).status,"onUpdate:modelValue":n[1]||(n[1]=e=>o(c).status=e),placeholder:"请选择菜单状态",style:{width:"240px"}},{default:a(()=>[(s(!0),x(H,null,K(o(B),e=>(s(),d(P,{key:e.dictDataId,label:e.dictDataLabel,value:e.dictDataValue},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(m,null,{default:a(()=>[t(g,{type:"primary",icon:o(W),onClick:p},{default:a(()=>[u("搜索")]),_:1},8,["icon"]),t(g,{onClick:I},{default:a(()=>[u("重置")]),_:1})]),_:1})]),_:1},8,["model"]),h((s(),d(g,{type:"primary",plain:"",icon:o(D),onClick:C},{default:a(()=>[u("新增")]),_:1},8,["icon"])),[[v,["sys_menu_add"]]])]),_:1}),t(E,null,{default:a(()=>[h((s(),d(J,{data:o(V),style:{width:"100%"},"row-key":"id",border:"","empty-text":"暂无数据","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:a(()=>[t(r,{prop:"menuName","show-overflow-tooltip":"","header-align":"center","min-width":"120",label:"菜单名称"}),t(r,{prop:"icon",align:"center",width:"80",label:"图标"},{default:a(e=>[Y("div",Ce,[e.row.icon?(s(),d(Q,{key:0,class:"flex",iconName:e.row.icon,iconType:e.row.iconType},null,8,["iconName","iconType"])):N("",!0)])]),_:1}),t(r,{prop:"sortNum",align:"center",width:"80",label:"排序"}),t(r,{prop:"perms",align:"center","min-width":"120","show-overflow-tooltip":"",label:"权限字符"}),t(r,{prop:"component","show-overflow-tooltip":"","min-width":"120","header-align":"center",label:"组件路径"}),t(r,{prop:"status",align:"center",width:"80",label:"状态"},{default:a(e=>[t(q,{modelValue:e.row.status,"onUpdate:modelValue":_=>e.row.status=_,onChange:_=>U(e.row.id,e.row.status),"active-value":"1","inactive-value":"0",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(r,{prop:"createDate",align:"center",width:"180",label:"创建时间"},{default:a(e=>[u(Z(o(be)(e.row.createDate)),1)]),_:1}),t(r,{prop:"address",align:"center",width:"180",label:"操作",fixed:"right"},{default:a(e=>[h((s(),d(y,{underline:!1,icon:o(ee),type:"success",onClick:_=>L(e.row.id)},{default:a(()=>[u("编辑")]),_:2},1032,["icon","onClick"])),[[v,["sys_menu_edit"]]]),h((s(),d(y,{icon:o(D),type:"primary",underline:!1,onClick:_=>$(e.row.id)},{default:a(()=>[u("新增")]),_:2},1032,["icon","onClick"])),[[v,["sys_menu_add"]]]),h((s(),d(y,{icon:o(te),type:"danger",underline:!1,onClick:_=>S(e.row.id)},{default:a(()=>[u("删除")]),_:2},1032,["icon","onClick"])),[[v,["sys_menu_delete"]]])]),_:1})]),_:1},8,["data"])),[[O,o(w)]])]),_:1}),o(l).dialogVisible?(s(),d(he,{key:0,dialogVisible:o(l).dialogVisible,menuForm:o(l).menuForm,title:o(l).title,id:o(l).id,onEmitAddFormBtn:T},null,8,["dialogVisible","menuForm","title","id"])):N("",!0)])}}}),Ze=ne(ke,[["__scopeId","data-v-5618ebf9"]]);export{Ze as default};
