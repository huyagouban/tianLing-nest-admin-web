import{W as E,g as L,r as s,R as T,o as C,h as B,x as e,y as t,k as o,a8 as D,t as m,D as O,a7 as R,v as $,aa as q,ad as U,ae as M,a1 as Q,N as W}from"./index-gd7kCRgy.js";import{v as j}from"./el-loading-_-mYlB4T.js";import{E as A,a as G}from"./el-table-column-8pU4tqzj.js";import"./el-checkbox-B9dyNmaT.js";import{E as H}from"./el-link-gqXlvqu7.js";import{E as J}from"./el-card-vlImg1A1.js";import{a as K,E as X}from"./el-form-item-B0DA7TzJ.js";import{p as Y}from"./index-DgcNhbwt.js";import{_ as Z}from"./pagination.vue_vue_type_script_setup_true_lang-DuyEmMZT.js";import"./debounce-AfzU3xsE.js";import"./_baseClone-DdFIvI3H.js";import"./isEqual-DUkHDidl.js";import"./el-select-CnMgXmkL.js";import"./token-DI9FKtlJ.js";import"./strings-BZHY2u5A.js";function ee(c){return E({url:"online/list",method:"get",params:c})}function oe(c){return E({url:`online/${c}`,method:"delete"})}const we=L({__name:"online",setup(c){const k=s([]),_=s(),u=s(!1),n=s({currentPage:1,pageSize:10}),f=s(0),p=()=>{n.value.currentPage=1,d()},S=()=>{_.value.resetFields(),p()},h=s([]),y=l=>{k.value=l.map(i=>i.operId)},d=()=>{u.value=!0,ee(n.value).then(l=>{h.value=l.data.list,f.value=l.data.total,u.value=!1})},P=l=>{n.value.pageSize=l,p()},I=l=>{n.value.currentPage=l,d()},V=l=>{U("是否确认强制退出该用户？").then(()=>{oe(l).then(i=>{M(i.message),p()})})};return T(()=>{d()}),(l,i)=>{const w=Q,g=K,v=W,x=X,b=J,a=A,z=H,N=G,F=j;return C(),B("div",null,[e(b,null,{default:t(()=>[e(x,{model:o(n),ref_key:"seachFormRef",ref:_,"label-width":"auto",inline:!0},{default:t(()=>[e(g,{label:"登录地址",prop:"loginIp"},{default:t(()=>[e(w,{class:"w200",modelValue:o(n).loginIp,"onUpdate:modelValue":i[0]||(i[0]=r=>o(n).loginIp=r),placeholder:"请输入登录地址"},null,8,["modelValue"])]),_:1}),e(g,{label:"用户名称",prop:"loginName"},{default:t(()=>[e(w,{class:"w200",modelValue:o(n).loginName,"onUpdate:modelValue":i[1]||(i[1]=r=>o(n).loginName=r),placeholder:"请输入用户名称"},null,8,["modelValue"])]),_:1}),e(g,null,{default:t(()=>[e(v,{type:"primary",icon:o(D),onClick:p},{default:t(()=>[m("搜索")]),_:1},8,["icon"]),e(v,{onClick:S},{default:t(()=>[m("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(b,null,{default:t(()=>[O((C(),R(N,{data:o(h),style:{width:"100%"},border:"","empty-text":"暂无数据",onSelectionChange:y},{default:t(()=>[e(a,{type:"selection",width:"50"}),e(a,{prop:"userSk",align:"center","min-width":"180","show-overflow-tooltip":"",label:"会话编号"}),e(a,{prop:"loginName","header-align":"center","show-overflow-tooltip":"","min-width":"90",label:"登录名称"}),e(a,{prop:"loginIp",align:"center","min-width":"90",label:"登录地址"}),e(a,{prop:"loginLocation",align:"center","min-width":"90",label:"登录地点"}),e(a,{prop:"browser",align:"center","show-overflow-tooltip":"","min-width":"80",label:"浏览器"}),e(a,{prop:"os",align:"center","show-overflow-tooltip":"","min-width":"90",label:"操作系统"}),e(a,{prop:"loginTime",align:"center",width:"180",label:"登陆日期"},{default:t(r=>[m($(o(Y)(r.row.loginTime)),1)]),_:1}),e(a,{align:"center",width:"120",label:"操作",fixed:"right"},{default:t(r=>[e(z,{underline:!1,icon:o(q),type:"danger",onClick:te=>V(r.row.userId)},{default:t(()=>[m("强退")]),_:2},1032,["icon","onClick"])]),_:1})]),_:1},8,["data"])),[[F,o(u)]]),e(Z,{currentPage:o(n).currentPage,pageSize:o(n).pageSize,total:o(f),onPaginationSizeChange:P,onPaginationCurrentChange:I},null,8,["currentPage","pageSize","total"])]),_:1})])}}});export{we as default};
